$(function () {
	
	function addInternshipInView(internship) {
		var i = internship;
		scrollToTop(function() {
			internship = $(internship).css("display", "none");

			addOnTop(internship);
			$(internship).slideDown(1000);

			removeLast();
		});
	}

	function scrollToTop(exec_after) {
		$('html').animate({ scrollTop: 0 }, 1000, exec_after);
	}

	function addOnTop(internship) {
		$(".right-content .content article:first").before(internship);
	}

	function removeLast () {
		$(".right-content .content article:last").remove();
	}

	$(".done").show();
	$(".ajax-loader").hide();
	addInternshipInView("<%= escape_javascript(render(@internship)) %>");
	hideNewInternshipBox(function(){}); // method in view
});